!function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return t[i].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz",i=0;i<t;++i)e+=n.charAt(Math.random()*n.length|0);return e}function e(){function t(t){function n(){for(var n,i=[],a=t.firstElementChild;a;a=a.nextElementSibling)(n=a.refItem)&&!n.seen&&e(a)&&(n.seen=!!i.push(n));i.length&&s("show",i)}t.addEventListener("click",function(t){for(var e,n=t.target;!(e=n.refItem)&&(n=n.parentElement););$.get("/apps/huanqiu/tongji_reco.php?news=paradigm&userid="+u),e&&s("detailPageShow",[e]),e&&a([e])});var i=setTimeout(n);window.addEventListener("scroll",function(){clearTimeout(i),i=setTimeout(n,180)})}function e(t){var e=t.getBoundingClientRect(),n=(e.left+e.right)/2,i=(e.top+e.bottom)/2;return n>0&&n<document.documentElement.clientWidth&&i>0&&i<document.documentElement.clientHeight}function n(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz",i=0;i<t;++i)e+=n.charAt(Math.random()*n.length|0);return e}function i(t){var e,n=new Date(1e3*t),i=(e=n.getMonth()+1)<10?"0"+e:e,s=(e=n.getDay())<10?"0"+e:e,a=(e=n.getHours())<10?"0"+e:e,o=(e=n.getMinutes())<10?"0"+e:e,r=(e=n.getSeconds())<10?"0"+e:e;return n.getFullYear()+"-"+i+"-"+s+" "+a+":"+o+":"+r}function s(t,e){var n=c+"/action/api/log?requestID="+r+"&clientToken="+h,s=Date.now(),a=[];for(var o in e){a.push({requestID:r,actionTime:s,action:t,sceneId:l,userId:u,itemId:e[o].item_id,context:e[o].context,itemSetId:""+d});var p=new XMLHttpRequest;p.open("POST",n),p.send(JSON.stringify({date:i(s/1e3),actions:a}))}}function a(t){$.ajax({type:"GET",url:"//tj.qipus.cn/rcmd/rec/falls/click?siteId=5011&recId="+(t[0].id||t[0].item_id)+"&parameter="+t[0].parameter+"&cki="+u,dataType:"jsonp"})}var o,r=n(8),c="https://nbrecsys.4paradigm.com",l=635,d=360,h="b8298c76d204483d9501a583f047ea71",u=(document.cookie.match(/userID=(.+?)\b/)||[])[1];!function e(n){(o=document.querySelector("div#interesting-news"))?t(o):n<7&&setTimeout(e,180,n+1)}(0)}var s=n(1),a=n(3),o=n(4),r=n(6),c=n(7),l=n(8),d="lunbo",h="first-news",u="interesting-news",p=$("#content"),m=parseFloat($("html").css("font-size")),v=$("#refresh-control"),g=$("#transform-icon"),f=!r.getCookie("tipDisable"),w=r.getCookie("userID");w||(w=r.getId(),r.setCookie("userID",w,3650));var _={all:{name:"全站",cnzzId:"1257582039"},index:{name:"首页",cnzzId:"1257822579"},world:{name:"国际",cnzzId:"1262434260"},taihai:{name:"台海",cnzzId:"1262434298"},society:{name:"社会",cnzzId:"1262434313"},mil:{name:"军事",cnzzId:"1262434136"},editorial:{name:"社评",cnzzId:"1262434337"},inland:{name:"国内",cnzzId:"1262434373"},comment:{name:"评论",cnzzId:"1262434392"},oversea:{name:"海外看中国",cnzzId:"1262434429"},bolan:{name:"博览",cnzzId:"1262434444"},picture:{name:"图片",cnzzId:"1262434462"},video:{name:"视频",cnzzId:"1262434473"},finance:{name:"财经",cnzzId:"1262434499"},auto:{name:"汽车",cnzzId:"1262434511"},tech:{name:"科技",cnzzId:"1262434523"},smart:{name:"智能",cnzzId:"1262434529"},shanrenping:{name:"单仁平",cnzzId:"1262434542"},uav:{name:"无人机",cnzzId:"1262434565"},travel:{name:"旅行",cnzzId:"1262434574"},health:{name:"健康",cnzzId:"1262434596"},ent:{name:"娱乐",cnzzId:"1262434603"},fashion:{name:"时尚",cnzzId:"1262434611"},women:{name:"女人",cnzzId:"1262434654"},sports:{name:"体育",cnzzId:"1262434664"},ski:{name:"滑雪",cnzzId:"1262434670"},liuxue:{name:"留学",cnzzId:"1262434698"},hope:{name:"公益",cnzzId:"1262434712"},city:{name:"城市",cnzzId:"1262434722"}},y={channel:"",homeFlag:!0,picChannelFlag:!1,videoChannelFlag:!1,times:0,date:"",url:"//w.huanqiu.com/apps/huanqiu/mindex.php",autoUrl:"//tj.qipus.cn/rcmd/falls/getRtCmd?siteId=5011&cki="+w+"&num=20&chan=",loading:!1,lazyFlag:!1,apiCount:0,swiperData:"",positionData:"",wechatData:"",autoData:"",count:0,manualAjax:null,autoAjax:null,initNav:function(){$("#nav-more-btn").on("click",function(t){var e=$(this);t.preventDefault(),e.hasClass("active")?(e.removeClass("active"),$("#nav-more").css("height","0"),$("#nav-more").css("opacity","0"),$("body").css("overflow","visible"),$("nav").css("border-bottom","2px solid #910910")):(e.addClass("active"),"fixed"!==e.parents("nav").css("position")?$("#nav-more").css("height",window.innerHeight+$(window).scrollTop()-2.5*m+"px"):$("#nav-more").css("height",window.innerHeight-1.25*m+"px"),$("#nav-more").css("opacity","1"),$("body").css("overflow","hidden"),$("nav").css("border-bottom","1px solid #e5e5e5"))}),$("#nav-more").on("touchmove",function(t){t.preventDefault(),t.stopPropagation()}),$(window).on("scroll",function(){window.scrollY>1.25*m?$("nav").css("position","fixed"):$("nav").css("position","relative")}),this.setNavPos()},initAd:function(){$.ajax({type:"GET",dataType:"jsonp",url:"https://3w.huanqiu.com/api/ad?agt=9",success:function(t){200===t.code&&sessionStorage.setItem("ad",JSON.stringify(t.data))}})},setNavPos:function(){var t=$(".nav-main"),e=t.find(".active");t.scrollLeft(e[0].offsetLeft)},initTip:function(){var t=navigator.userAgent;f&&t.indexOf("Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Browser")<0?document.getElementById("add-screen-tip").style.display="block":document.getElementById("add-screen-tip").style.display="none",$("#tip-close").on("click",function(t){t.stopPropagation(),$("#add-screen-tip").css("display","none"),r.setCookie("tipDisable",!0,1)})},setChannel:function(){$("#footer-text").css("display","block"),this.channel=r.getHash().channel||"",this.homeFlag=!this.channel,this.picChannelFlag="picture"===this.channel,this.videoChannelFlag="video"===this.channel,this.times=0,this.date="",this.count=0,this.homeFlag?(this.url="//w.huanqiu.com/apps/huanqiu/mindex.php",this.autoUrl="//tj.qipus.cn/rcmd/falls/getRtCmd?siteId=5011&cki="+w+"&num=20&chan="):(this.url="//w.huanqiu.com/apps/huanqiu/category.php?cname="+this.channel,this.autoUrl="//w.huanqiu.com/apps/huanqiu/autolist.php?chan="+this.channel+"&times="+this.times+"&date="+this.date),$("#nav-more").height()>50&&$("#nav-more-btn").trigger("click"),$(".nav-main .nav-item").removeClass("active"),""===this.channel?$("#index").addClass("active"):$("#"+this.channel).addClass("active"),this.homeFlag?$("body").css("background","#f0f0f0"):$("body").css("background","#fff")},initRefreshScroll:function(){var t=this;new o({getData:function(){t.getAuto().done(function(e){t.setAuto(e)})}}).init()},initLink:function(){$("#content").on("click",".link-flag",function(t){var e=t.target||t.srcElement,n=$(e).parents(".link-flag"),i=n.attr("data-id"),s=n.attr("data-parameter");return r.setCookie("bodyTop",window.scrollY,1),"undefined"===i||"undefined"===s?void(n.parents("#interesting-news").length>0&&$.ajax({type:"GET",url:"//w.huanqiu.com/apps/huanqiu/addhit.php?chan=index"})):void $.ajax({type:"GET",url:"//tj.qipus.cn/rcmd/rec/falls/click?siteId=5011&recId="+i+"&parameter="+s+"&cki="+w,dataType:"jsonp"})})},getManual:function(){var t=this;return this.swiperData=null,this.positionData=null,this.wechatData=null,this.manualAjax=$.ajax({type:"GET",url:this.url,dataType:"jsonp"}),v.css("-webkit-transform","translate3d(0, "+1.2*m+"px, 0)"),v.css("transform","translate3d(0, "+1.2*m+"px, 0)"),g.css("transition","all 10s linear .1s"),g.css("-webkit-transition","all 10s linear .1s"),g.css("stroke-dashoffset",3e4),$("#refresh-text").text("刷新中..."),this.manualAjax.done(function(e){try{sessionStorage.setItem(t.channel+"manualData",JSON.stringify(e))}catch(t){console.log(t)}setTimeout(function(){t.refreshControl.hidden()},1500)}).fail(function(){console.error("加载数据出错，正在重试~")}),this.manualAjax},setManual:function(t){var e=this;if(t&&"object"===("undefined"==typeof t?"undefined":i(t))){if(this.swiperData=t.swiper,this.positionData=t.position,this.wechatData=t.wechat,!this.picChannelFlag&&!this.videoChannelFlag&&void 0!==this.swiperData[0]){p.prepend(c.lunboHtml(d,this.swiperData));var n=this.homeFlag?c.lunboAdString.index:c.lunboAdString.channels;l.insertLunboAd(p,1,n),new s({id:d,hasArrow:!1,auto:!1}).init()}var o=function(){e.times=0,e.date="",e.count=0,p[0].innerHTML="",e.setManual({swiper:e.swiperData,position:e.positionData}),e.getAuto().done(function(t,n,i){e.setAuto(t)})};if(this.homeFlag){var v="recommend-index-curr",g=Math.ceil(this.positionData.length/14),f=c.headerHtml("今日要闻",c.listIndicator(g,v));$("#"+d).after(c.newsBlock(h,f));var w=c.homeNewsHtml(this.positionData);if($("#"+h).append(w),g>1){var _=$("#recommend-content"),y=new s({id:"recommend-content",hasArrow:!1,auto:!1});y.play=function(t){$(".lunbo-page").css("height","auto"),_.height(_.find("li").eq(this._n).height()),s.prototype.play.bind(this,t)(),0!==$("#"+v).length&&($("#"+v)[0].innerHTML=this._n+1),this.lazyFlag||(r.setImgUrl(p),this.lazyFlag=!0)},y.init(),o=function(){e.times=0,e.date="",e.count=0,$("#"+u).remove(),sessionStorage.clear(),y.setIndex(1),y.play(),e.getAuto().done(function(t){e.setAuto(t)})}}}else if(this.picChannelFlag)for(var S in this.swiperData)p.append(c.picChannelHtml(this.swiperData[S]));else if(this.videoChannelFlag)for(var I in this.swiperData)p.append(c.videoChannelHtml(this.swiperData[I]));else{var A="";for(var D in this.positionData)A+=c.newsHtml(this.positionData[D]),p.append(c.newsHtml(this.positionData[D]))}this.refreshControl=new a({id:"refresh-control",height:1.5*m,hookFunc:o}),this.refreshControl.init()}},getAuto:function(){var e=this;if(this.homeFlag)if(this.apiCount>=3)sessionStorage.setItem("paradigm4","false"),this.autoUrl="//w.huanqiu.com/apps/huanqiu/autolist.php?chan=index&times="+this.times+"&date="+this.date;else{var n=t(8);sessionStorage.setItem("paradigm4","true"),this.autoUrl="https://nbrecsys.4paradigm.com/api/v0/recom/recall?requestID="+n+"&sceneID=635&userID="+w}else this.autoUrl="//w.huanqiu.com/apps/huanqiu/autolist.php?chan="+this.channel+"&times="+this.times+"&date="+this.date;return this.autoData=[],this.loading?{done:function(){}}:(this.loading=!0,this.homeFlag&&"true"===sessionStorage.getItem("paradigm4")?this.autoAjax=$.ajax({type:"POST",url:this.autoUrl,data:"{}"}):this.autoAjax=$.ajax({type:"GET",dataType:"jsonp",url:this.autoUrl}),this.autoAjax.done(function(t){try{if("-1"!=e.autoUrl.indexOf("paradigm")?$.get("/apps/huanqiu/tongji_reco.php?api=paradigm"):"-1"!=e.autoUrl.indexOf("tj.qipus.cn")&&$.get("/apps/huanqiu/tongji_ul.php?api=1"),"string"==typeof t)t=JSON.parse(t);else if("undefined"!=typeof t.data)t=t.data;else for(var n in t)t[n].url=/\?/.test(t[n].url)?t[n].url+"&recommend=ul":t[n].url+"?recommend=ul";if(""===t||!t.length)return void $("#footer-text").css("display","none");var i=sessionStorage.getItem(e.channel+"autoData");""+i=="null"?sessionStorage.setItem(e.channel+"autoData",JSON.stringify(t)):sessionStorage.setItem(e.channel+"autoData",i.slice(0,-1)+", "+JSON.stringify(t).substr(1)),e.times++,e.date=t[t.length-1].date}catch(t){e.homeFlag&&e.apiCount++,console.error(t)}finally{e.loading=!1}}).fail(function(){e.homeFlag&&e.apiCount++,e.loading=!1,console.error("加载数据出错，将重试~")}),this.autoAjax)},setAuto:function(t){var e=this;"undefined"!=typeof t.data&&(t=t.data),"string"==typeof t&&(t=JSON.parse(t)),this.autoData=t,this.loading=!1,setTimeout(function(){e.refreshControl.hidden()},500);var n=sessionStorage.getItem("agt")||"huanqiu";if(this.homeFlag){var i=$("#"+u);if(i.length<=0){var s=c.headerHtml("兴趣推荐");p.append(c.newsBlock(u,s))}i=$("#"+u);var a=JSON.parse(sessionStorage.getItem("ad")),o=[3,8],r=0,l={};for(var d in a)a[d].pos.indexOf("feed")>=0&&a[d].pos.indexOf(n)>=0&&(a[d].code.indexOf("feed")>=0?l[o[r]]='<div class="mock-line"></div><section class="ad-content">'+a[d].code+"</section>":l[o[r]]='<div class="mock-line"></div><section class="ad-content"><div id="AD_SURVEY_POSITION_SIMPLE_'+a[d]._id+'" style="display:none;"></div><script type="text/javascript">window.AD_SURVEY_Add_AdPos_Simple && AD_SURVEY_Add_AdPos_Simple("'+a[d]._id+'");</script></section>',r++);for(var h in this.autoData){if("true"===sessionStorage.getItem("paradigm4")){var m=$(c.paradigm4NewsHtml(this.autoData[h]))[0];m&&(m.refItem=this.autoData[h]),i.append(m)}else{var v=$(c.newsHtml(this.autoData[h]))[0];v&&(v.refItem=this.autoData[h]),i.append(v)}this.count++,l[this.count]?i.append(l[this.count]):c.indexAdString[this.count]&&i.append(c.indexAdString[this.count])}}else if(this.picChannelFlag)for(var g in this.autoData){var f=$(c.picChannelHtml(this.autoData[g]))[0];f&&(f.refItem=this.autoData[g]),p.append(f)}else if(this.videoChannelFlag)for(var w in this.autoData){var _=$(c.videoChannelHtml(this.autoData[w]))[0];_&&(_.refItem=this.autoData[w]),p.append(_)}else for(var y in this.autoData){var S=$(c.newsHtml(this.autoData[y]))[0];S&&(S.refItem=this.autoData[y]),p.append(S),this.count++,c.adString[this.count]&&p.append(c.adString[this.count])}},postStatistical:function(){var t=document.getElementById("cnzzquest"),e=document.getElementById("cnzzall");if(e||(e=document.createElement("img"),e.id="cnzzall",e.width="0",e.height="0",e.style.display="none",document.body.appendChild(e)),e.src="//c.cnzz.com/wapstat.php?siteid="+_.all.cnzzId+"&r=&rnd="+Math.floor(1e10*Math.random()),_[this.channel||"index"]){var n="//c.cnzz.com/wapstat.php?siteid="+_[this.channel||"index"].cnzzId+"&r=&rnd="+Math.floor(1e10*Math.random());t?t.src=n:(t=document.createElement("img"),t.id="cnzzquest",t.src=n,t.width="0",t.height="0",t.style.display="none",document.body.appendChild(t))}},init:function(){var t=this;if(this.initAd(),this.setChannel(),this.initNav(),this.initTip(),"object"===("undefined"==typeof performance?"undefined":i(performance))&&2===performance.navigation.type){var e=sessionStorage.getItem(this.channel+"manualData"),n=sessionStorage.getItem(this.channel+"autoData");if(""+e!="null"&&""+n!="null"){this.setManual(JSON.parse(e)),this.setAuto(JSON.parse(n));var s=+new Date,a=setInterval(function(){(p.find("section").length>20||+new Date-s>3e3)&&(clearInterval(a),window.scroll(0,r.getCookie("bodyTop")))},50)}else sessionStorage.clear(),this.getManual().done(function(e,n,i){t.postStatistical(),t.setManual(e),t.getAuto().done(function(e){t.setAuto(e)})})}else sessionStorage.clear(),this.getManual().done(function(e,n,i){t.postStatistical(),t.setManual(e),t.getAuto().done(function(e){t.setAuto(e)})});this.initRefreshScroll(),window.onhashchange=function(){try{t.manualAjax.abort(),t.autoAjax.abort()}catch(t){}r.setCookie("bodyTop",0),window.scroll(0,0),p[0].innerHTML="",sessionStorage.clear(),t.setChannel(),t.setNavPos(),t.getManual().done(function(e,n,i){t.postStatistical(),t.setManual(e),t.getAuto().done(function(e){t.setAuto(e)})})}}};y.init(),e()}()},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=n(2),a=s.TouchMove,o=function(t){var e={auto:!0,speed:.5,hasDot:!0,dotId:""};t=i({},e,t),this.container=document.getElementById(t.id),this.speed=t.speed,this.delay=t.delay,this.hasDot=t.hasDot,this.listContainer=this.container.querySelector(".lunbo-wrapper"),this.len=this.container.querySelectorAll(".lunbo-page").length,this.oneWidth=this.container.clientWidth,this._n=0,this.startX=0,this.startTime=0};o.prototype.initStyle=function(){this.listContainer.style.width=this.len*this.oneWidth+"px"},o.prototype.createDots=function(t){this.dotContainer=document.createElement("div"),this.dotContainer.setAttribute("class","focus-dots-content");for(var e='<a href="javascript:void(0);" class="dot active"></a>',n=1;n<this.len;n++)e+='<a href="javascript:void(0);" class="dot"></a>';this.dotContainer.innerHTML=e,t.appendChild(this.dotContainer)},o.prototype.setIndex=function(t){var e=this._n+t;e<0?e+=this.len:e>=this.len&&(e-=this.len),this._n=e},o.prototype.play=function(){if(this.setSlidePos(this.getSlidePos(),this.speed),this.hasDot){this.dotNodes=this.dotContainer.querySelectorAll(".dot");for(var t=0;t<this.len;t++)this.dotNodes[t].className="dot";this.dotNodes[this._n].className="dot active"}},o.prototype.getSlidePos=function(){return-this._n*this.oneWidth},o.prototype.setSlidePos=function(t,e){"undefined"==typeof this.listContainer.style.webkitTransform?this.listContainer.style.marginLeft=t+"px":(this.listContainer.style.transform="translate3d("+t+"px, 0, 0)",this.listContainer.style.webkitTransform="translate3d("+t+"px, 0, 0)",this.listContainer.style.transitionDuration=e+"s",this.listContainer.style.webkitTransitionDuration=e+"s")},o.prototype.touch=function(){var t=this,e="";this.container.addEventListener("touchstart",function(n){e="",a.getDirection.start(n),t.startX=n.touches[0].pageX,t.startTime=+new Date},{passive:!0}),this.container.addEventListener("touchmove",function(n){if(e=e||a.getDirection.move(n),"right"===e||"left"===e){n.preventDefault(),n.stopPropagation();var i=n.touches[0].pageX-t.startX;0===t._n&&i>0?t.setSlidePos(Math.pow(i,.85),0):t._n===t.len-1&&i<0?t.setSlidePos(-Math.pow(-i,.85)+t.getSlidePos(),0):t.setSlidePos(n.touches[0].pageX-t.startX+t.getSlidePos(),0)}}),this.container.addEventListener("touchend",function(n){if("right"===e||"left"===e){var i=+new Date-t.startTime,s=t.startX-n.changedTouches[0].pageX;s>t.oneWidth/5||s>t.oneWidth/7&&s/i>.2?t._n!==t.len-1&&t.setIndex(1):(-s>t.oneWidth/5||-s>t.oneWidth/7&&-s/i>.2)&&0!==t._n&&t.setIndex(-1),t.play()}e=a.getDirection.end()},{passive:!0})},o.prototype.init=function(){this.initStyle(),this.touch(),this.hasDot&&this.createDots(this.container),this.auto&&this.autoPlay()},t.exports=o},function(t,e){"use strict";var n={TouchMove:{getDirection:{startPos:{},movedPos:{},start:function(t){this.startPos.x=t.touches[0].clientX,this.startPos.y=t.touches[0].clientY},move:function(t){if(this.movedPos.x=t.changedTouches[0].clientX-this.startPos.x,this.movedPos.y=t.changedTouches[0].clientY-this.startPos.y,Math.abs(this.movedPos.x)>Math.abs(this.movedPos.y)){if(this.movedPos.x>0)return"right";if(this.movedPos.x<0)return"left"}else if(Math.abs(this.movedPos.x)<Math.abs(this.movedPos.y)){if(this.movedPos.y>0)return"bottom";if(this.movedPos.y<0)return"top"}},end:function(){this.startPos={}}}}};t.exports=n},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=n(2),a=s.TouchMove.getDirection,o=function(t){var e={height:50,hookFunc:function(){}};t=i({},e,t),this.controlElem=document.getElementById(t.id),this.containerElem=document.getElementById(t.containerId),this.height=t.height,this.hookFunc=t.hookFunc,this.touchStartHook=t.touchStartHook,this.touchMovingHook=t.touchMovingHook,this.touchEndHook=t.touchEndHook,this.startX=0,this.startY=0,this.refreshControlFlag=!1,this.direction="",this.refreshIcon=document.getElementById("transform-icon")};o.prototype.touchStart=function(t){window.scrollY<=5&&(this.refreshControlFlag=!0,a.start(t),this.controlElem.style.transition="none",this.controlElem.style.webkitTransition="none",this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY)},o.prototype.touchMoving=function(t){if(this.refreshControlFlag){if(this.direction=this.direction||a.move(t),"bottom"!==this.direction)return void(this.refreshControlFlag=!1);var e=t.touches[0].clientY;t.preventDefault(),t.stopPropagation();var n=e-this.startY;this.controlElem.style.transform="translate3d(0, "+n/2+"px, 0)",this.controlElem.style.webkitTransform="translate3d(0, "+n/2+"px, 0)",this.refreshIcon.style.strokeDashoffset=25.5*n,n/2>this.height?document.getElementById("refresh-text").innerHTML="松开刷新":document.getElementById("refresh-text").innerHTML="下拉刷新"}},o.prototype.touchEnd=function(t){this.direction="",a.end(),this.refreshControlFlag&&(this.refreshControlFlag=!1,(t.changedTouches[0].clientY-this.startY)/2>this.height?(this.controlElem.style.transform="translate3d(0, "+this.height+"px, 0)",this.controlElem.style.webkitTransform="translate3d(0, "+this.height+"px, 0)",this.hookFunc(),document.getElementById("refresh-text").innerHTML="刷新中...",this.refreshIcon.style.transition="all 10s linear .1s",this.refreshIcon.style.webkitTransition="all 10s linear .1s",this.refreshIcon.style.strokeDashoffset=4e4):(this.controlElem.style.transform="translate3d(0, 0, 0)",this.controlElem.style.webkitTransform="translate3d(0, 0, 0)"))},o.prototype.hidden=function(){var t=this;this.controlElem.style.transition="all 0.2s ease-in 0.1s",this.controlElem.style.webkitTransition="all 0.2s ease-in 0.1s",this.controlElem.style.transform="translate3d(0, 0, 0)",this.controlElem.style.webkitTransform="translate3d(0, 0, 0)",this.refreshIcon.style.transition="none",this.refreshIcon.style.webkitTransition="none",setTimeout(function(){document.getElementById("refresh-text").innerHTML="下拉刷新",t.refreshIcon.style.strokeDashoffset=0},300)},o.prototype.init=function(){this.controlElem.addEventListener("touchstart",this.touchStart.bind(this)),this.controlElem.addEventListener("touchmove",this.touchMoving.bind(this)),this.controlElem.addEventListener("touchend",this.touchEnd.bind(this))},t.exports=o},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=n(5),a=function(t){var e={getData:function(){}};t=i({},e,t),this.getData=t.getData,this.screenHeight=screen.height,this.bodyHeight=document.body.clientHeight};a.prototype.watch=function(){this.bodyHeight=document.body.clientHeight,window.scrollY>this.bodyHeight-1.2*this.screenHeight&&(this.getData(),this.bodyHeight=document.body.clientHeight)},a.prototype.init=function(){s.addEvent(window,"scroll",this.watch.bind(this))},t.exports=a},function(t,e){"use strict";var n={addEvent:function(t,e,n){return document.addEventListener?t.addEventListener(e,n):document.attachEvent?t.attachEvent(e,n):void(t["on"+e]=n)},isMoveHorizontal:function(t,e,n,i){return Math.abs(n-t)>Math.abs(i-e)},isMoveVertical:function(t,e,n,i){return Math.abs(n-t)<Math.abs(i-e)},TouchMove:{getDirection:{startPos:{},movedPos:{},start:function(t){this.startPos.x=t.touches[0].clientX,this.startPos.y=t.touches[0].clientY},move:function(t){if(this.movedPos.x=t.changedTouches[0].clientX-this.startPos.x,this.movedPos.y=t.changedTouches[0].clientY-this.startPos.y,Math.abs(this.movedPos.x)>Math.abs(this.movedPos.y)){if(this.movedPos.x>0)return"right";if(this.movedPos.x<0)return"left"}else if(Math.abs(this.movedPos.x)<Math.abs(this.movedPos.y)){if(this.movedPos.y>0)return"bottom";if(this.movedPos.y<0)return"top"}},end:function(){this.startPos={}}}}};t.exports=n},function(t,e){"use strict";var n={generateTitle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=0;if(!t||"number"!=typeof t.length)return t;for(var i=0,s=t.length;i<s;i++)if(n+=/[\u0000-\u00FF]/.test(t[i])?.5:1,n>=e)return t.substr(0,i)+"…";return t},generateTime:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:+new Date;if("string"==typeof t&&(t=+new Date(t.replace(/-/g,"/"))),isNaN(t))return"";var n=e-t;return n<=6e4?"刚刚":n<=36e5?~~(n/6e4)+"分钟前":n<=864e5?~~(n/36e5)+"小时前":n<=6048e5?~~(n/864e5)+"天前":new Date(t).getMonth()+1+"月"+new Date(t).getDate()+"日"},getSearch:function(){var t={},e=location.search.substr(1).split("&");return e.forEach(function(e,n){var i=e.split("="),s=i[0],a=i[1];s.length&&(t[s]=a)}),t},getSearchByString:function(t){if(t.indexOf("?")<0)return{};var e={},n=t.split("?")[1].split("&");return n.forEach(function(t,n){var i=t.split("="),s=i[0],a=i[1];s.length&&(e[s]=a)}),e},getHash:function(){var t={},e=location.hash.substr(1).split("&");return e.forEach(function(e,n){var i=e.split("="),s=i[0],a=i[1];s.length&&(t[s]=a)}),t},getId:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36,e="",n="0123456789abcdef",i=0;i<t;i++)e+=n[~~(16*Math.random())];return e},setCookie:function(t,e,n){var i=new Date;i.setDate(i.getDate()+n),document.cookie=t+"="+escape(e)+(null==n?"":";expires="+i.toGMTString())},getCookie:function(t){if(document.cookie.length>0){var e=document.cookie.indexOf(t+"=");if(e!==-1){e=e+t.length+1;var n=document.cookie.indexOf(";",e);return n===-1&&(n=document.cookie.length),unescape(document.cookie.substring(e,n))}}return""},setImgUrl:function(t){var e=t.find("img");$.each(e,function(t,e){var n=$(e);void 0!==n.attr("data-imgUrl")&&n.attr("src")!==n.attr("data-imgUrl")&&(n.attr("src",n.attr("data-imgUrl")),n.removeAttr("data-imgUrl"))})}};t.exports=n},function(t,e,n){"use strict";function i(t){var e=/\?/.test(t)?"&agt=":"?agt=",n=a?e+a:"";return""+t+n}var s=n(6),a=s.getSearch().agt,o={indexAdString:{3:'<div class="mock-line"></div><section class="ad-content"><div id="AD_SURVEY_POSITION_SIMPLE_41788" style="display:none;"></div><script type="text/javascript">window.AD_SURVEY_Add_AdPos_Simple && AD_SURVEY_Add_AdPos_Simple("41788");</script></section>',8:'<div class="mock-line"></div><section class="ad-content"><div id="AD_SURVEY_POSITION_SIMPLE_41789" style="display:none;"></div><script type="text/javascript">window.AD_SURVEY_Add_AdPos_Simple && AD_SURVEY_Add_AdPos_Simple("41789");</script></section>',13:'<div class="mock-line"></div><section class="ad-content"><div id="AD_SURVEY_POSITION_SIMPLE_41790" style="display:none;"></div><script type="text/javascript">window.AD_SURVEY_Add_AdPos_Simple && AD_SURVEY_Add_AdPos_Simple("41790");</script></section>',18:'<div class="mock-line"></div><section class="ad-content"><div id="AD_SURVEY_POSITION_SIMPLE_41791" style="display:none;"></div><script type="text/javascript">window.AD_SURVEY_Add_AdPos_Simple && AD_SURVEY_Add_AdPos_Simple("41791");</script></section>',23:'<div class="mock-line"></div><section class="ad-content"><div id="AD_SURVEY_POSITION_SIMPLE_41792" style="display:none;"></div><script type="text/javascript">window.AD_SURVEY_Add_AdPos_Simple && AD_SURVEY_Add_AdPos_Simple("41792");</script></section>',28:'<div class="mock-line"></div><section class="ad-content"><div id="AD_SURVEY_POSITION_SIMPLE_41793" style="display:none;"></div><script type="text/javascript">window.AD_SURVEY_Add_AdPos_Simple && AD_SURVEY_Add_AdPos_Simple("41793");</script></section>',33:'<div class="mock-line"></div><section class="ad-content"><div id="AD_SURVEY_POSITION_SIMPLE_41794" style="display:none;"></div><script type="text/javascript">window.AD_SURVEY_Add_AdPos_Simple && AD_SURVEY_Add_AdPos_Simple("41794");</script></section>',38:'<div class="mock-line"></div><section class="ad-content"><div id="AD_SURVEY_POSITION_SIMPLE_41795" style="display:none;"></div><script type="text/javascript">window.AD_SURVEY_Add_AdPos_Simple && AD_SURVEY_Add_AdPos_Simple("41795");</script></section>'},adString:{3:'<div class="mock-line"></div><section class="ad-content"><div id="AD_SURVEY_POSITION_SIMPLE_41559" style="display:none;"></div><script type="text/javascript">window.AD_SURVEY_Add_AdPos_Simple && AD_SURVEY_Add_AdPos_Simple("41559");</script></section>',8:'<div class="mock-line"></div><section class="ad-content"><div id="AD_SURVEY_POSITION_SIMPLE_41560" style="display:none;"></div><script type="text/javascript">window.AD_SURVEY_Add_AdPos_Simple && AD_SURVEY_Add_AdPos_Simple("41560");</script></section>',13:'<div class="mock-line"></div><section class="ad-content"><div id="AD_SURVEY_POSITION_SIMPLE_41561" style="display:none;"></div><script type="text/javascript">window.AD_SURVEY_Add_AdPos_Simple && AD_SURVEY_Add_AdPos_Simple("41561");</script></section>'},lunboAdString:{index:'<section><div id="AD_SURVEY_POSITION_SIMPLE_41197" style="display:none;"></div><script type="text/javascript">window.AD_SURVEY_Add_AdPos_Simple && AD_SURVEY_Add_AdPos_Simple("41197");</script></section>',channels:'<section><div id="AD_SURVEY_POSITION_SIMPLE_41562" style="display:none;"></div><script type="text/javascript">window.AD_SURVEY_Add_AdPos_Simple && AD_SURVEY_Add_AdPos_Simple("41562");</script></section>'},lunboHtml:function(t,e){var n='<div class="lunbo" id="'+t+'"><ul class="lunbo-wrapper">';for(var a in e)e[a].url=i(e[a].url),e[a].title=s.generateTitle(e[a].title,16),n+='\n        <li class="lunbo-page">\n          <a href="'+e[a].url+'">\n            <img onError="this.onerror=null;this.src=\'//himg2.huanqiu.com/statics/www/hq_m/dist/m_huanqiu/images/lunbo_image.png\';" src="'+e[a].pic+'" alt="">\n            <div class="lunbo-title-bg">\n              <p class="lunbo-title">'+e[a].title+"</p>\n            </div>\n          </a>\n        </li>\n      ";return n+="</ul></div>"},headerHtml:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n='\n      <div class="block-header">\n        <span class="block-logo">'+t+"</span>\n        "+e+"\n      </div>\n    ";return n},listIndicator:function(t,e){if(t<=1)return"";var n='\n      <div class="list-indicator">\n        <span class="list-indicator-curr" id="'+e+'">1</span>\n        <span class="list-lens">/'+t+"</span>\n      </div>\n    ";return n},newsHtml:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="",a=s.generateTitle(t.title,28),o=s.generateTime(t.date);return"undefined"==typeof t.pic&&"advert"!==t.mediaType?"":(t.url=i(t.url),"text"===t.mediaType?n+='\n        <section class="news-style-0">\n          <a href="'+t.url+'" data-id="'+t.id+'" data-parameter="'+t.parameter+'" class="link-flag">\n            <div class="news-content">\n              <div class="news-title">'+a+'</div>\n              <div class="news-info">\n                <span class="news-from">'+t.source+'</span>\n                <span class="news-date">'+o+"</span>\n              </div>\n            </div>\n          </a>\n        </section>\n      ":"oneImg"===t.mediaType?"content_text"===t.contentType?n+='\n          <section class="news-style-1">\n            <a href="'+t.url+'" data-id="'+t.id+'" data-parameter="'+t.parameter+'" class="link-flag">\n              <div class="news-content">\n                <div class="news-title">'+a+'</div>\n                <div class="news-info">\n                  <span class="news-from">'+t.source+'</span>\n                  <span class="news-date">'+o+'</span>\n                </div>\n              </div>\n              <div class="news-imgs">\n                  <img onError="this.onerror=null;this.src=\'//himg2.huanqiu.com/statics/www/hq_m/dist/m_huanqiu/images/one_image.png\';" class="news-pic" '+(e?'src="" data-imgUrl="'+t.pic[0]:'src="'+t.pic[0])+'" alt="">\n              </div>\n            </a>\n          </section>\n        ':"content_video"===t.contentType?n+='\n          <section class="news-video">\n            <a href="'+t.url+'" data-id="'+t.id+'" data-parameter="'+t.parameter+'" class="link-flag">\n              <p class="news-title">'+a+'</p>\n              <div class="video-img">\n                <img onError="this.onerror=null;this.src=\'//himg2.huanqiu.com/statics/www/hq_m/dist/m_huanqiu/images/video_image.png\';" src="'+t.pic[0]+'" alt="">\n                <div class="video-btn">\n                  <svg>\n                    <use xlink:href="#video-icon" />\n                  </svg>\n                </div>\n              </div>\n              <div class="news-info">\n                <span class="news-from">'+t.source+'</span>\n                <span class="news-date">'+o+"</span>\n              </div>\n            </a>\n          </section>\n          ":"content_picture"===t.contentType?n+='\n          <section class="news-video">\n            <a href="'+t.url+'" data-id="'+t.id+'" data-parameter="'+t.parameter+'" class="link-flag">\n              <p class="news-title">'+a+'</p>\n              <div class="video-img">\n                <img onError="this.onerror=null;this.src=\'//himg2.huanqiu.com/statics/www/hq_m/dist/m_huanqiu/images/video_image.png\';" src="'+t.pic[0]+'" alt="">\n              </div>\n              <div class="news-info">\n                <span class="news-from">'+t.source+'</span>\n                <span class="news-date">'+o+"</span>\n              </div>\n            </a>\n          </section>\n        ":"shijiuda"===t.contentType&&(n+='\n          <section class="news-style-1">\n            <a href="'+t.url+'" data-id="'+t.id+'" data-parameter="'+t.parameter+'" class="link-flag">\n              <div class="news-content">\n                <div class="news-title">'+a+'</div>\n                <div class="news-info">\n\n                  <span class="news-date">'+o+'</span>\n                  <span class="news-special">两会专题</span>\n                </div>\n              </div>\n              <div class="news-imgs">\n                  <img onError="this.onerror=null;this.src=\'//himg2.huanqiu.com/statics/www/hq_m/dist/m_huanqiu/images/one_image.png\';" class="news-pic" '+(e?'src="" data-imgUrl="'+t.pic[0]:'src="'+t.pic[0])+'" alt="">\n              </div>\n            </a>\n          </section>\n        '):"moreImg"===t.mediaType?n+='\n        <section class="news-style-2">\n          <a href="'+t.url+'" data-id="'+t.id+'" data-parameter="'+t.parameter+'" class="link-flag">\n            <p class="news-title">'+a+'</p>\n            <div class="news-imgs">\n              <img onError="this.onerror=null;this.src=\'//himg2.huanqiu.com/statics/www/hq_m/dist/m_huanqiu/images/more_image.png\';" class="news-pic" '+(e?'src="" data-imgUrl="'+t.pic[0]:'src="'+t.pic[0])+'" alt="">\n              <img onError="this.onerror=null;this.src=\'//himg2.huanqiu.com/statics/www/hq_m/dist/m_huanqiu/images/more_image.png\';" class="news-pic" '+(e?'src="" data-imgUrl="'+t.pic[1]:'src="'+t.pic[1])+'" alt="">\n              <img onError="this.onerror=null;this.src=\'//himg2.huanqiu.com/statics/www/hq_m/dist/m_huanqiu/images/more_image.png\';" class="news-pic" '+(e?'src="" data-imgUrl="'+t.pic[2]:'src="'+t.pic[2])+'" alt="">\n            </div>\n          </a>\n          <div class="news-info">\n            <span class="news-from">'+t.source+'</span>\n            <span class="news-date">'+o+"</span>\n          </div>\n        </section>\n      ":"advert"===t.mediaType&&(n+='\n        <div class="mock-line"></div>\n        <section>\n          '+t.data+"\n        </section>\n      "),
n)},paradigm4NewsHtml:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="",a=s.generateTitle(t.title,28),o=s.generateTime(t.date),r=t.cover_url.split(",");return t.url=i(t.url),1===r.length&&""===r[0]?n+='\n        <section class="news-style-0">\n          <a href="'+t.url+'" data-id="'+t.id+'" class="link-flag">\n            <div class="news-content">\n              <div class="news-title">'+a+'</div>\n              <div class="news-info">\n                <span class="news-from">'+t.publisher_id+"</span>\n              </div>\n            </div>\n          </a>\n        </section>\n      ":r.length>=1?n+='\n          <section class="news-style-1">\n            <a href="'+t.url+'" data-id="'+t.id+'" class="link-flag">\n              <div class="news-content">\n                <div class="news-title">'+a+'</div>\n                <div class="news-info">\n                  <span class="news-from">'+t.publisher_id+'</span>\n                </div>\n              </div>\n              <div class="news-imgs">\n                  <img onError="this.onerror=null;this.src=\'//himg2.huanqiu.com/statics/www/hq_m/dist/m_huanqiu/images/one_image.png\';" class="news-pic" '+(e?'src="" data-imgUrl="'+r[0]:'src="'+r[0])+'" alt="">\n              </div>\n            </a>\n          </section>\n        ':r.length>=2?n+='\n        <section class="news-style-2">\n          <a href="'+t.url+'" data-id="'+t.id+'" class="link-flag">\n            <p class="news-title">'+a+'</p>\n            <div class="news-imgs">\n              <img onError="this.onerror=null;this.src=\'//himg2.huanqiu.com/statics/www/hq_m/dist/m_huanqiu/images/more_image.png\';" class="news-pic" '+(e?'src="" data-imgUrl="'+r[0]:'src="'+r[0])+'" alt="">\n              <img onError="this.onerror=null;this.src=\'//himg2.huanqiu.com/statics/www/hq_m/dist/m_huanqiu/images/more_image.png\';" class="news-pic" '+(e?'src="" data-imgUrl="'+r[1]:'src="'+r[1])+'" alt="">\n              <img onError="this.onerror=null;this.src=\'//himg2.huanqiu.com/statics/www/hq_m/dist/m_huanqiu/images/more_image.png\';" class="news-pic" '+(e?'src="" data-imgUrl="'+r[2]:'src="'+r[2])+'" alt="">\n            </div>\n          </a>\n          <div class="news-info">\n            <span class="news-from">'+t.publisher_id+'</span>\n            <span class="news-date">'+o+"</span>\n          </div>\n        </section>\n      ":"advert"===t.mediaType&&(n+='\n        <div class="mock-line"></div>\n        <section>\n          '+t.data+"\n        </section>\n      "),n},newsBlock:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n='\n      <div class="news-block" id="'+t+'">\n        '+e+"\n      </div>\n    ";return n},homeNewsHtml:function(t){var e='<div class="block-content" id="recommend-content"><ul class="lunbo-wrapper"><li class="lunbo-page">';for(var n in t)n%14===0&&0!==+n&&(e+='</li><li class="lunbo-page">'),e+=o.newsHtml(t[n],!!(n>14));return e+="</li></ul></div>"},picChannelHtml:function(t){t.url=i(t.url);var e='\n      <section class="pic-block">\n        <a href="'+t.url+'" data-id="'+t.id+'" data-parameter="'+t.parameter+'" class="link-flag">\n          <img onError="this.onerror=null;this.src=\'//himg2.huanqiu.com/statics/www/hq_m/dist/m_huanqiu/images/video_image.png\';" src="'+t.pic[0]+'"" alt="" />\n          <p class="pic-title">'+t.title+"</p>\n        </a>\n      </section>\n    ";return e},picChannelHtml2:function(t){t.url=i(t.url);var e='\n      <section class="pic-block">\n        <a href="'+t.url+'" data-id="'+t.id+'" data-parameter="'+t.parameter+'" class="link-flag">\n          <img onError="this.onerror=null;this.src=\'//himg2.huanqiu.com/statics/www/hq_m/dist/m_huanqiu/images/video_image.png\';" src="'+t.pic[0]+'"" alt="" />\n          <p class="pic-title">'+t.title+"</p>\n        </a>\n      </section>\n    ";return e},videoChannelHtml:function(t){t.url=i(t.url);var e='\n      <section class="pic-block">\n        <a href="'+t.url+'" data-id="'+t.id+'" data-parameter="'+t.parameter+'" class="link-flag">\n          <div class="video-img">\n            <img onError="this.onerror=null;this.src=\'//himg2.huanqiu.com/statics/www/hq_m/dist/m_huanqiu/images/video_image.png\';" src="'+t.pic[0]+'" alt="">\n            <div class="video-btn">\n              <svg>\n                <use xlink:href="#video-icon" />\n              </svg>\n            </div>\n          </div>\n          <p class="pic-title">'+t.title+"</p>\n        </a>\n      </section>\n    ";return e},videoChannelHtml2:function(t){t.url=i(t.url);var e='\n      <section class="pic-block">\n        <a href="'+t.url+'" data-id="'+t.id+'" data-parameter="'+t.parameter+'" class="link-flag">\n          <div class="video-img">\n            <img onError="this.onerror=null;this.src=\'//himg2.huanqiu.com/statics/www/hq_m/dist/m_huanqiu/images/video_image.png\';" src="'+t.pic[0]+'" alt="">\n            <div class="video-btn">\n              <svg>\n                <use xlink:href="#video-icon" />\n              </svg>\n            </div>\n          </div>\n          <p class="pic-title">'+t.title+"</p>\n        </a>\n      </section>\n    ";return e},wechatHtml:function(t){var e=o.headerHtml("微信热点");e+='<div class="wechat-content">';for(var n=0;n<5;n++)t.url[n]=i(t.url[n]),e+='\n            \n        <div class="wechat-block">\n          <a href="'+t[n].url+'">\n            <p class="wechat-title">\n              '+t[n].title+'\n            </p>\n            <p class="wechat-small">\n              '+t[n].tag+"\n            </p>\n          </a>\n        </div>\n      ";return e}};t.exports=o},function(t,e){"use strict";var n={insertLunboAd:function(t,e,n){var i='<li class="lunbo-page">'+n+"</li>";t.find("li").eq(e).before(i)},insertWechat:function(t,e,n){t.find("section").eq(e).before(n)}};t.exports=n}]);
//# sourceMappingURL=index.js.map